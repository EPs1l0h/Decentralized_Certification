Here's the directory structure and code files:

Directory Structure:
ğŸ“„ mock.ts
ğŸ“„ App.vue
ğŸ“„ main.ts
ğŸ“ access
    ğŸ“„ accessEnum.js
    ğŸ“„ checkAccess.js
    ğŸ“„ accessEnum.ts
    ğŸ“„ checkAccess.ts
ğŸ“„ main.js
ğŸ“ components
    ğŸ“„ GlobalHeader.vue
ğŸ“ layouts
    ğŸ“„ BasicLayout.vue
    ğŸ“„ SimpleLayout.vue
ğŸ“ views
    ğŸ“„ HolderView.vue
    ğŸ“„ RegisterView.vue
    ğŸ“„ LoginView.vue
    ğŸ“„ VerifyView.vue
    ğŸ“„ HomeView.vue
    ğŸ“„ BlockInfoView.vue
ğŸ“ assets
ğŸ“„ shims-vue.d.ts
ğŸ“ store
    ğŸ“„ user.js
    ğŸ“„ index.js
    ğŸ“„ index.ts
    ğŸ“„ user.ts
ğŸ“ router
    ğŸ“„ routes.ts
    ğŸ“„ index.js
    ğŸ“„ routes.js
    ğŸ“„ index.ts

Code Files:
----- Start of mock.ts -----
// mock.ts
export const vcList = [
  {
    id: "1",
    type: ["VerifiableCredential", "UniversityDegreeCredential"],
    issuer: "did:example:university",
    issuanceDate: "2023-06-01T00:00:00Z",
    credentialSubject: {
      id: "did:example:student",
      degree: {
        type: "BachelorDegree",
        name: "è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯",
      },
    },
  },
  {
    id: "2",
    type: ["VerifiableCredential", "SkillCertificateCredential"],
    issuer: "did:example:company",
    issuanceDate: "2023-06-02T00:00:00Z",
    credentialSubject: {
      id: "did:example:employee",
      certificate: {
        type: "SkillCertificate",
        name: "Javaå¼€å‘å·¥ç¨‹å¸ˆ",
      },
    },
  },
  {
    id: "3",
    type: ["VerifiableCredential", "MembershipCredential"],
    issuer: "did:example:organization",
    issuanceDate: "2023-06-03T00:00:00Z",
    credentialSubject: {
      id: "did:example:member",
      membership: {
        type: "PremiumMembership",
        name: "ä¼˜ç§€ä¼šå‘˜",
      },
    },
  },
];

export const vpRequestList = [
  {
    id: "1",
    verifier: "did:example:company",
    requestDate: "2023-06-04T00:00:00Z",
  },
  {
    id: "2",
    verifier: "did:example:government",
    requestDate: "2023-06-05T00:00:00Z",
  },
];

----- End of mock.ts -----

----- Start of App.vue -----
<template>
  <div id="app">
    <component :is="layoutComponent">
      <router-view />
    </component>
  </div>
</template>

<style>
#app {
}
</style>

<script setup lang="ts">
import BasicLayout from "@/layouts/BasicLayout.vue";
import SimpleLayout from "@/layouts/SimpleLayout.vue";
import { useRouter, useRoute } from "vue-router";
import { useStore } from "vuex";
import { onMounted, computed } from "vue";
import ACCESS_ENUM from "@/access/accessEnum";

const route = useRoute();
const layoutComponent = computed(() => route.meta.layout || BasicLayout);

/**
 * å…¨å±€åˆå§‹åŒ–å‡½æ•°ï¼Œæœ‰å…¨å±€å•è¯è°ƒç”¨çš„ä»£ç ï¼Œéƒ½å¯ä»¥å†™åœ¨è¿™é‡Œ
 */
const doInit = () => {
  console.log("hello æ¬¢è¿æ¥åˆ°æˆ‘çš„é¡¹ç›®");
};

onMounted(() => {
  doInit();
});

const router = useRouter();
const store = useStore();

// è·¯ç”±å®ˆå«é€»è¾‘
router.beforeEach((to, from, next) => {
  console.log("to.meta?.access", to.meta?.access);
  console.log("store.state.user.loginUser", store.state.user.loginUser);

  if (to.meta?.access === ACCESS_ENUM.ADMIN) {
    if (store.state.user.loginUser?.userRole !== ACCESS_ENUM.ADMIN) {
      next("/noAuth");
      return;
    }
  }

  if (
    to.meta?.access &&
    store.state.user.loginUser.userRole === ACCESS_ENUM.NOT_LOGIN
  ) {
    next("/login");
    return;
  }

  next();
});
</script>

----- End of App.vue -----

----- Start of main.ts -----
import { createApp } from "vue";
import App from "./App.vue";
import ElementPlus from "element-plus";
import "element-plus/dist/index.css";
import "@/assets/global.css";
import router from "./router";
import store from "./store";
createApp(App).use(ElementPlus).use(store).use(router).mount("#app");

----- End of main.ts -----

----- Start of main.js -----
import { createApp } from "vue";
import App from "./App.vue";
import ElementPlus from "element-plus";
import "element-plus/dist/index.css";
import "@/assets/global.css";
import router from "./router";
import store from "./store";
createApp(App).use(ElementPlus).use(store).use(router).mount("#app");
//# sourceMappingURL=main.js.map
----- End of main.js -----

----- Start of shims-vue.d.ts -----
/* eslint-disable */
declare module '*.vue' {
  import type { DefineComponent } from 'vue'
  const component: DefineComponent<{}, {}, any>
  export default component
}

----- End of shims-vue.d.ts -----

----- Start of access/accessEnum.js -----
/**
 * @description æƒé™å®šä¹‰
 * @enum {string}
 */
const ACCESS_ENUM = {
    NOT_LOGIN: "notLogin",
    USER: "user",
    ADMIN: "admin",
};
export default ACCESS_ENUM;
//# sourceMappingURL=accessEnum.js.map
----- End of access/accessEnum.js -----

----- Start of access/checkAccess.js -----
/**
 * æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰æƒé™ï¼ˆåˆ¤æ–­å½“å‰ç™»å½•ç”¨æˆ·æ˜¯å¦å…·æœ‰æŸä¸ªæƒé™ï¼‰
 * @param loginUser å½“å‰ç™»å½•ç”¨æˆ·
 * @param needAccess éœ€è¦çš„æƒé™
 * @return boolean æœ‰æ— æƒé™
 */
import ACCESS_ENUM from "@/access/accessEnum";
const checkAccess = (loginUser, needAccess = ACCESS_ENUM.NOT_LOGIN) => {
    // è·å–å½“å‰ç™»å½•ç”¨æˆ·çš„æƒé™ï¼ˆå¦‚æœæ²¡æœ‰loginUserï¼Œåˆ™é»˜è®¤ä¸ºæœªç™»å½•ï¼‰
    const loginUserAccess = loginUser?.userRole ?? ACCESS_ENUM.NOT_LOGIN;
    if (needAccess === ACCESS_ENUM.NOT_LOGIN) {
        // ä¸éœ€è¦ç™»å½•æƒé™
        return true;
    }
    if (needAccess === ACCESS_ENUM.USER) {
        if (loginUserAccess === ACCESS_ENUM.NOT_LOGIN) {
            return false;
        }
    }
    if (needAccess === ACCESS_ENUM.ADMIN) {
        if (loginUserAccess === ACCESS_ENUM.ADMIN) {
            return true;
        }
    }
    return false;
};
export default checkAccess;
//# sourceMappingURL=checkAccess.js.map
----- End of access/checkAccess.js -----

----- Start of access/accessEnum.ts -----
/**
 * @description æƒé™å®šä¹‰
 * @enum {string}
 */
const ACCESS_ENUM = {
  NOT_LOGIN: "notLogin",
  USER: "user",
  ADMIN: "admin",
};

export default ACCESS_ENUM;

----- End of access/accessEnum.ts -----

----- Start of access/checkAccess.ts -----
import AccessEnum from "@/access/accessEnum";

/**
 * æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰æƒé™ï¼ˆåˆ¤æ–­å½“å‰ç™»å½•ç”¨æˆ·æ˜¯å¦å…·æœ‰æŸä¸ªæƒé™ï¼‰
 * @param loginUser å½“å‰ç™»å½•ç”¨æˆ·
 * @param needAccess éœ€è¦çš„æƒé™
 * @return boolean æœ‰æ— æƒé™
 */
import ACCESS_ENUM from "@/access/accessEnum";
const checkAccess = (loginUser: any, needAccess = ACCESS_ENUM.NOT_LOGIN) => {
  // è·å–å½“å‰ç™»å½•ç”¨æˆ·çš„æƒé™ï¼ˆå¦‚æœæ²¡æœ‰loginUserï¼Œåˆ™é»˜è®¤ä¸ºæœªç™»å½•ï¼‰
  const loginUserAccess = loginUser?.userRole ?? ACCESS_ENUM.NOT_LOGIN;
  if (needAccess === ACCESS_ENUM.NOT_LOGIN) {
    // ä¸éœ€è¦ç™»å½•æƒé™
    return true;
  }
  if (needAccess === ACCESS_ENUM.USER) {
    if (loginUserAccess === ACCESS_ENUM.NOT_LOGIN) {
      return false;
    }
  }
  if (needAccess === ACCESS_ENUM.ADMIN) {
    if (loginUserAccess === ACCESS_ENUM.ADMIN) {
      return true;
    }
  }
  return false;
};

export default checkAccess;

----- End of access/checkAccess.ts -----

----- Start of components/GlobalHeader.vue -----
<template>
  <el-row id="globalHeader" class="grid-demo" align="middle" :wrap="false">
    <el-col :span="22">
      <el-menu
        mode="horizontal"
        :default-active="$route.path"
        @select="doMenuClick"
      >
        <el-menu-item key="0" :style="{ padding: 0, marginRight: '38px' }">
          <div class="title-bar">
            <img class="logo" src="../assets/logo.svg" />
            <div class="title">DeCert</div>
          </div>
        </el-menu-item>
        <el-menu-item
          v-for="route in visibleRoutes"
          :key="route.path"
          :index="route.path"
        >
          {{ route.name }}
        </el-menu-item>
      </el-menu>
    </el-col>
    <el-col :span="2">
      <div class="user-info">
        {{ userName }}
      </div>
    </el-col>
  </el-row>
</template>

<script setup lang="ts">
import { routes } from "../router/routes";
import { useRoute, useRouter } from "vue-router";
import { computed } from "vue";
import { useStore } from "vuex";
import checkAccess from "@/access/checkAccess";
import ACCESS_ENUM from "@/access/accessEnum";

const router = useRouter();
const store = useStore();

const userName = computed(() => store.state.user.loginUser.userName);

// å±•ç¤ºåœ¨èœå•çš„è·¯ç”±æ•°ç»„
const visibleRoutes = computed(() => {
  // return routes.filter((item, index) => {
  //   if (item.meta?.hideInMenu) {
  //     return false;
  //   }
  //   if (!checkAccess(store.state.user.loginUser, item.meta?.access as string)) {
  //     return false;
  //   }
  //   return true;
  // });
  return routes;
});

setTimeout(() => {
  store.dispatch("user/getLoginUser");
}, 3000);

const doMenuClick = (index: string) => {
  router.push(index);
};

const handleUserInfoClick = () => {
  if (store.state.user.loginUser.userRole === ACCESS_ENUM.NOT_LOGIN) {
    router.push("/login");
  }
};
</script>

<style scoped>
.title-bar {
  display: flex;
  align-items: center;
}

.title {
  color: #444;
  margin-left: 16px;
}

.logo {
  height: 96px;
}

.user-info {
}

/* æ·»åŠ ä»¥ä¸‹æ ·å¼ */
:deep(.el-menu-item.is-active) {
  background-color: #e6f7ff;
}
</style>

----- End of components/GlobalHeader.vue -----

----- Start of layouts/BasicLayout.vue -----
<template>
  <div id="basicLayout">
    <el-container style="min-height: 100vh">
      <el-header class="header">
        <GlobalHeader />
      </el-header>
      <el-main class="content">
        <router-view />
      </el-main>
    </el-container>
  </div>
</template>

<style scoped>
#basicLayout {
}

#basicLayout .header {
  margin-bottom: 16px;
}

#basicLayout .content {
  margin-bottom: 16px;
  padding: 20px;
}
</style>
<script setup lang="ts">
import GlobalHeader from "@/components/GlobalHeader.vue";
</script>

----- End of layouts/BasicLayout.vue -----

----- Start of layouts/SimpleLayout.vue -----
<!-- src/layouts/SimpleLayout.vue -->
<template>
  <div class="simple-layout">
    <router-view />
  </div>
</template>

<style scoped>
.simple-layout {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background-color: #f0f2f5;
}
</style>

----- End of layouts/SimpleLayout.vue -----

----- Start of views/HolderView.vue -----
<!-- HolderDashboard.vue -->
<template>
  <div class="holder-dashboard">
    <!-- æŒæœ‰è€…ä¿¡æ¯ -->
    <el-card class="holder-info">
      <template #header>
        <div class="card-header">
          <span>æŒæœ‰è€…ä¿¡æ¯</span>
          <el-icon class="icon" color="#409EFF"><UserFilled /></el-icon>
        </div>
      </template>
      <div class="info-item">
        <span class="label">ç”¨æˆ·å:</span>
        <span class="value">{{ holderInfo.userName }}</span>
      </div>
      <div class="info-item">
        <span class="label">DID:</span>
        <span class="value">{{ holderInfo.did }}</span>
      </div>
    </el-card>

    <!-- VCåˆ—è¡¨ -->
    <el-card class="certificate-list">
      <template #header>
        <div class="card-header">
          <span>VCåˆ—è¡¨</span>
          <el-button
            type="primary"
            @click="goToApplyCertificate"
            icon="el-icon-plus"
            class="apply-btn"
          >
            å‘é¢å‘è€…ç”³è¯·VC
          </el-button>
        </div>
      </template>
      <el-row :gutter="20">
        <el-col :span="8" v-for="cert in certificates" :key="cert.id">
          <el-card shadow="hover">
            <div class="cert-info">
              <div class="cert-type">{{ cert.type }}</div>
              <div class="cert-issuer">é¢å‘è€…: {{ cert.issuer }}</div>
              <div class="cert-date">é¢å‘æ—¶é—´: {{ cert.issuanceDate }}</div>
            </div>
          </el-card>
        </el-col>
      </el-row>
    </el-card>

    <!-- VPè¯·æ±‚åˆ—è¡¨ -->
    <el-card class="vp-request-list">
      <template #header>
        <div class="card-header">
          <span>VPè¯·æ±‚åˆ—è¡¨</span>
          <el-icon class="icon" color="#67C23A"><Bell /></el-icon>
        </div>
      </template>
      <el-table :data="vpRequests" style="width: 100%">
        <el-table-column prop="verifier" label="è¯·æ±‚è€…"></el-table-column>
        <el-table-column prop="requestTime" label="è¯·æ±‚æ—¶é—´"></el-table-column>
        <el-table-column label="æ“ä½œ">
          <template #default="scope">
            <el-button type="primary" @click="goToSubmitVP(scope.row)">
              å‘éªŒè¯è€…æäº¤VP
            </el-button>
          </template>
        </el-table-column>
      </el-table>
    </el-card>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from "vue";
import { useRouter } from "vue-router";
import { Bell, UserFilled } from "@element-plus/icons-vue";
import axios from "axios";
import { vcList, vpRequestList } from "@/mock";

const router = useRouter();

const holderInfo = ref({
  userName: "",
  did: "",
});

const certificates = ref(vcList);
const vpRequests = ref(vpRequestList);

onMounted(async () => {
  await getHolderInfo();
  await getVPRequests();
});

const getHolderInfo = async () => {
  // æ¨¡æ‹Ÿä»åç«¯è·å–æŒæœ‰è€…ä¿¡æ¯
  const mockHolderInfo = {
    userName: "å¼ ä¸‰",
    did: "did:example:123456789abcdefghi",
  };
  holderInfo.value = mockHolderInfo;

  // çœŸå®é€»è¾‘,ä¸åç«¯äº¤äº’
  // try {
  //   const response = await axios.post('/get_holder_info', {})
  //   const { isValid, userName, did } = response.data
  //   if (isValid) {
  //     holderInfo.value = { userName, did }
  //   }
  // } catch (error) {
  //   console.error('Error fetching holder info:', error)
  // }
};

const getVPRequests = async () => {
  // æ¨¡æ‹Ÿä»åç«¯è·å–VPè¯·æ±‚åˆ—è¡¨
  // try {
  //   const response = await axios.post('/get_be_asked_VP_list', {})
  //   const { isValid, vpRequests: vp } = response.data
  //   if (isValid) {
  //     vpRequests.value = vp
  //   }
  // } catch (error) {
  //   console.error('Error fetching VP requests:', error)
  // }
};

const goToApplyCertificate = () => {
  router.push("/applyCertificate");
};

const goToSubmitVP = (request) => {
  router.push({
    path: "/submitVP",
    query: { requestId: request.id },
  });
};
</script>

<style scoped>
.holder-dashboard {
  max-width: 1200px;
  margin: 20px auto;
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.card-header span {
  font-size: 20px;
  font-weight: bold;
}

.holder-info,
.certificate-list,
.vp-request-list {
  margin-bottom: 20px;
}

.info-item {
  margin-bottom: 10px;
}

.label {
  display: inline-block;
  width: 80px;
  font-weight: bold;
}

.cert-info {
  height: 200px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.cert-type {
  font-size: 24px;
  font-weight: bold;
  margin-bottom: 20px;
}

.apply-btn {
  display: flex;
  align-items: center;
}
</style>

----- End of views/HolderView.vue -----

----- Start of views/RegisterView.vue -----
<template>
  <div class="register-container">
    <el-card class="register-card">
      <h2 class="register-title">æ³¨å†Œ DeCert</h2>
      <el-form
        ref="registerForm"
        :model="registerForm"
        :rules="registerRules"
        label-width="100px"
      >
        <el-form-item label="ç”¨æˆ·å" prop="username">
          <el-input
            v-model="registerForm.username"
            placeholder="è¯·è¾“å…¥ç”¨æˆ·å"
          ></el-input>
        </el-form-item>
        <el-form-item label="å¯†ç " prop="password">
          <el-input
            type="password"
            v-model="registerForm.password"
            placeholder="è¯·è¾“å…¥å¯†ç "
          ></el-input>
        </el-form-item>
        <el-form-item label="ç¡®è®¤å¯†ç " prop="confirmPassword">
          <el-input
            type="password"
            v-model="registerForm.confirmPassword"
            placeholder="è¯·å†æ¬¡è¾“å…¥å¯†ç "
          ></el-input>
        </el-form-item>
        <el-form-item label="ç­¾åç®—æ³•" prop="algorithm">
          <el-select
            v-model="registerForm.algorithm"
            placeholder="è¯·é€‰æ‹©ç­¾åç®—æ³•"
          >
            <el-option label="SM2" value="SM2"></el-option>
            <el-option label="RSA" value="RSA"></el-option>
          </el-select>
        </el-form-item>
        <el-form-item>
          <el-button type="primary" @click="handleRegister">æ³¨å†Œ</el-button>
          <el-button @click="goToLogin">è¿”å›ç™»å½•</el-button>
          <el-button @click="goToHome">è¿”å›é¦–é¡µ</el-button>
        </el-form-item>
      </el-form>
    </el-card>
  </div>
</template>

<script setup lang="ts">
import { reactive, ref } from "vue";
import { useRouter } from "vue-router";
import { FormInstance, FormRules } from "element-plus";
import axios from "axios";

const router = useRouter();

const registerForm = reactive({
  username: "",
  password: "",
  confirmPassword: "",
  algorithm: "",
});

const registerRules = reactive<FormRules>({
  username: [{ required: true, message: "è¯·è¾“å…¥ç”¨æˆ·å", trigger: "blur" }],
  password: [{ required: true, message: "è¯·è¾“å…¥å¯†ç ", trigger: "blur" }],
  confirmPassword: [
    { required: true, message: "è¯·å†æ¬¡è¾“å…¥å¯†ç ", trigger: "blur" },
    {
      validator: (rule, value, callback) => {
        if (value !== registerForm.password) {
          callback(new Error("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´"));
        } else {
          callback();
        }
      },
      trigger: "blur",
    },
  ],
  algorithm: [{ required: true, message: "è¯·é€‰æ‹©ç­¾åç®—æ³•", trigger: "change" }],
});

const registerFormRef = ref<FormInstance>();

const handleRegister = async () => {
  if (!registerFormRef.value) return;
  await registerFormRef.value.validate(async (valid) => {
    if (valid) {
      try {
        const response = await axios.post(
          "http://localhost:8000/register_post",
          {
            name: registerForm.username,
            password: registerForm.password,
            alg: registerForm.algorithm,
          }
        );
        const { isValid } = response.data;
        if (isValid) {
          router.push("/login");
        } else {
          console.error("Registration failed.");
        }
      } catch (error) {
        console.error("Error registering:", error);
      }
    }
  });
};

const goToLogin = () => {
  router.push("/login");
};
const goToHome = () => {
  router.push("/");
};
</script>
<style scoped>
.register-container {
  width: 100%;
  max-width: 400px;
  padding: 20px;
}
</style>

----- End of views/RegisterView.vue -----

----- Start of views/LoginView.vue -----
<template>
  <div class="login-container">
    <el-card class="login-card">
      <h2 class="login-title">æ¬¢è¿ç™»å½• DeCert</h2>
      <el-form
        ref="loginFormRef"
        :model="loginForm"
        :rules="loginRules"
        label-width="80px"
      >
        <el-form-item label="ç”¨æˆ·å" prop="username">
          <el-input v-model="_username" placeholder="è¯·è¾“å…¥ç”¨æˆ·å"></el-input>
        </el-form-item>
        <el-form-item label="å¯†ç " prop="password">
          <el-input
            type="password"
            v-model="_password"
            placeholder="è¯·è¾“å…¥å¯†ç "
          ></el-input>
        </el-form-item>
        <el-form-item>
          <el-button type="primary" @click="handleLogin">ç™»å½•</el-button>
          <el-button @click="goToRegister">æ³¨å†Œ</el-button>
          <el-button @click="goToHome">è¿”å›é¦–é¡µ</el-button>
        </el-form-item>
      </el-form>
    </el-card>
  </div>
</template>

<script setup lang="ts">
import { reactive, ref } from "vue";
import { useRouter } from "vue-router";
import { useStore } from "vuex";
import { FormInstance, FormRules } from "element-plus";
import axios from "axios";

const router = useRouter();
const store = useStore();

const loginForm = reactive({
  username: "",
  password: "",
});

const _username = ref("");
const _password = ref("");
const loginRules = reactive<FormRules>({
  username: [{ required: true, message: "è¯·è¾“å…¥ç”¨æˆ·å", trigger: "blur" }],
  password: [{ required: true, message: "è¯·è¾“å…¥å¯†ç ", trigger: "blur" }],
});

const loginFormRef = ref<FormInstance>();

const handleLogin = async () => {
  loginForm.username = _username.value;
  loginForm.password = _password.value;
  console.log("loginForm:", loginForm);
  console.log("loginFormRef:", loginFormRef.value);

  if (!loginFormRef.value) return;
  await loginFormRef.value.validate(async (valid) => {
    if (valid) {
      // æ¨¡æ‹Ÿç™»å½•æˆåŠŸ
      console.log("ç™»å½•æˆåŠŸ?");
      store.dispatch("user/getLoginUser", {
        userName: "æµ‹è¯•ç”¨æˆ·å",
        userRole: "user",
      });
      router.push("/home");
      console.log("ç™»å½•æˆåŠŸ?2");

      // çœŸå®é€»è¾‘,ä¸åç«¯äº¤äº’
      //   try {

      //     const response = await axios.post("http://localhost:8000/login_post", {
      //       name: loginForm.username,
      //       password: loginForm.password,
      //     });
      //     const { isValid } = response.data;
      //     if (isValid) {
      //       store.dispatch("user/getLoginUser");
      //       router.push("/home");
      //     } else {
      //       console.error("Login failed.");
      //     }
      //   } catch (error) {
      //     console.error("Error logging in:", error);
      //   }
    }
  });
};

const goToRegister = () => {
  router.push("/register");
};
const goToHome = () => {
  router.push("/");
};
</script>
<style scoped>
.login-container {
  width: 100%;
  max-width: 400px;
  padding: 20px;
}
</style>

----- End of views/LoginView.vue -----

----- Start of views/VerifyView.vue -----
<template>
  <div class="verify-view">
    <el-row justify="center" class="header">
      <el-col :span="24">
        <h1>éªŒè¯è¯ä¹¦</h1>
        <p>æä¾›å®‰å…¨ã€é€æ˜ã€é«˜æ•ˆçš„è¯ä¹¦éªŒè¯æœåŠ¡ã€‚</p>
      </el-col>
    </el-row>
    <el-row justify="center" class="step-row">
      <el-col :span="20">
        <el-steps :active="step" finish-status="success">
          <el-step title="å‘èµ·éªŒè¯è¯·æ±‚" />
          <el-step title="æŒæœ‰è€…æäº¤è¯ä¹¦" />
          <el-step title="éªŒè¯è¯ä¹¦" />
        </el-steps>
      </el-col>
    </el-row>
    <el-row justify="center">
      <el-col :span="12">
        <!-- å‘èµ·éªŒè¯è¯·æ±‚ç•Œé¢ -->
        <el-card v-if="step === 0" shadow="hover">
          <template #header>
            <div class="card-header">
              <span>å‘èµ·éªŒè¯è¯·æ±‚</span>
              <el-icon class="icon" color="#f6d365"><Promotion /></el-icon>
            </div>
          </template>
          <el-form ref="requestForm" :model="requestForm" label-width="100px">
            <el-form-item label="æŒæœ‰è€…åç§°">
              <el-input
                v-model="input_name"
                placeholder="è¯·è¾“å…¥æŒæœ‰è€…çš„ç”¨æˆ·åæˆ–DID"
              ></el-input>
            </el-form-item>
            <el-form-item>
              <el-button
                type="primary"
                @click="handleRequest"
                :loading="requesting"
              >
                <template #default> å‘èµ·è¯·æ±‚ </template>
                <template #loading>
                  <div class="custom-loading">
                    <svg class="circular" viewBox="-10, -10, 50, 50">
                      <path
                        class="path"
                        d="
                          M 30 15
                          L 28 17
                          M 25.61 25.61
                          A 15 15, 0, 0, 1, 15 30
                          A 15 15, 0, 1, 1, 27.99 7.5
                          L 15 15
                        "
                        style="stroke-width: 4px; fill: rgba(0, 0, 0, 0)"
                      />
                    </svg>
                  </div>
                </template>
              </el-button>
            </el-form-item>
          </el-form>
        </el-card>

        <!-- æŒæœ‰è€…æäº¤è¯ä¹¦ç•Œé¢(çœç•¥) -->

        <!-- éªŒè¯è¯ä¹¦ç•Œé¢ -->
        <el-card v-if="step === 2" shadow="hover">
          <template #header>
            <div class="card-header">
              <span>éªŒè¯è¯ä¹¦</span>
              <el-icon class="icon" color="#fda085"><Stamp /></el-icon>
            </div>
          </template>
          <el-descriptions
            title="è¯ä¹¦ä¿¡æ¯"
            :column="1"
            border
            :contentStyle="{
              'white-space': 'pre-wrap',
              'word-break': 'break-all',
            }"
          >
            <el-descriptions-item label="è¯ä¹¦ç±»å‹">
              {{ vcvp.type }}
            </el-descriptions-item>
            <el-descriptions-item label="è¯ä¹¦å†…å®¹">
              {{ JSON.stringify(vcvp, null, 2) }}
            </el-descriptions-item>
            <el-descriptions-item label="é¢å‘è€…">
              {{ vcvp.issuer }}
            </el-descriptions-item>
            <el-descriptions-item label="é¢å‘æ—¶é—´">
              {{ vcvp.issuanceDate }}
            </el-descriptions-item>
          </el-descriptions>
          <div class="verify-footer">
            <el-tooltip
              effect="dark"
              content="æ£€æŸ¥è¯ä¹¦çš„æœ‰æ•ˆæ€§å’ŒçœŸå®æ€§"
              placement="top"
            >
              <el-button
                type="primary"
                @click="handleVerify"
                :loading="verifying"
                class="verify-button"
              >
                éªŒè¯è¯ä¹¦
              </el-button>
            </el-tooltip>
            <el-alert
              v-if="verifyResult"
              :title="verifyResult.title"
              :type="verifyResult.type"
              :description="verifyResult.message"
              show-icon
              class="verify-result"
            />
          </div>
        </el-card>
      </el-col>
    </el-row>
  </div>
</template>

<script setup lang="ts">
import { ref, reactive } from "vue";
import { Promotion, Stamp } from "@element-plus/icons-vue";

const requestForm = reactive({
  holderName: "",
});

const input_name = ref("");
const step = ref(0);
const requesting = ref(false);

interface VCVP {
  type: string;
  credentialSubject: any;
  issuer: string;
  issuanceDate: string;
  // å…¶ä»–å±æ€§...
}

const vcvp = ref<VCVP | null>(null);
const verifying = ref(false);

interface VerifyResult {
  title: string;
  type: "success" | "error";
  message: string;
}

const verifyResult = ref<VerifyResult | null>(null);

const mockVCVP: VCVP = {
  type: "AlumniCredential",
  credentialSubject: {
    id: "did:example:ebfeb1f712ebc6f1c276e12ec21",
    alumniOf: {
      id: "did:example:c276e12ec21ebfeb1f712ebc6f1",
      name: "Example University",
    },
  },
  issuer: "https://example.edu/issuers/565049",
  issuanceDate: "2010-01-01T19:73:24Z",
};

const handleRequest = async () => {
  requesting.value = true;
  requestForm.holderName = input_name.value;
  // æ¨¡æ‹Ÿè¯·æ±‚å»¶è¿Ÿ
  await new Promise((resolve) => setTimeout(resolve, 1000));
  step.value = 1;
  // æ¨¡æ‹ŸæŒæœ‰è€…æäº¤è¯ä¹¦å»¶è¿Ÿ
  await new Promise((resolve) => setTimeout(resolve, 1000));
  vcvp.value = mockVCVP;
  step.value = 2;
  requesting.value = false;
};

const handleVerify = async () => {
  verifying.value = true;
  // æ¨¡æ‹ŸéªŒè¯å»¶è¿Ÿ
  await new Promise((resolve) => setTimeout(resolve, 1000));
  // æ¨¡æ‹ŸéšæœºéªŒè¯ç»“æœ
  const isValid = Math.random() < 0.5;
  if (isValid) {
    verifyResult.value = {
      title: "éªŒè¯æˆåŠŸ",
      type: "success",
      message: "VC/VPéªŒè¯æˆåŠŸ,è¯¥è¯ä¹¦çœŸå®æœ‰æ•ˆã€‚",
    };
  } else {
    verifyResult.value = {
      title: "éªŒè¯å¤±è´¥",
      type: "error",
      message: "VC/VPéªŒè¯å¤±è´¥,è¯¥è¯ä¹¦æ— æ•ˆã€‚",
    };
  }
  verifying.value = false;

  // å°†æ­¥éª¤è®¾ä¸º3
  step.value = 3;
};
</script>

<style scoped>
.verify-view {
  padding: 2rem;
}

.header {
  text-align: center;
  margin-bottom: 2rem;
  background: linear-gradient(45deg, #f6d365, #fda085);
  color: white;
  padding: 2rem;
  border-radius: 4px;
}

.header h1 {
  font-size: 2.5rem;
  margin-bottom: 1rem;
}

.step-row {
  margin-bottom: 2rem;
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.card-header span {
  font-size: 1.25rem;
  font-weight: bold;
}

.card-header .icon {
  font-size: 1.5rem;
}

.verify-footer {
  text-align: center;
  margin-top: 2rem;
}

.verify-button {
  background: linear-gradient(45deg, #f6d365, #fda085);
  border: none;
  color: white;
  font-size: 1.25rem;
  padding: 12px 24px;
  border-radius: 4px;
  cursor: pointer;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
}

.verify-button:hover {
  box-shadow: 0 8px 12px rgba(0, 0, 0, 0.15);
  transform: translateY(-2px);
}

.verify-result {
  margin-top: 1.5rem;
  text-align: center;
}

/* loadingåŠ¨ç”» */
.custom-loading .circular {
  width: 20px;
  height: 20px;
  animation: loading-rotate 2s linear infinite;
}

.custom-loading .path {
  animation: loading-dash 1.5s ease-in-out infinite;
  stroke-dasharray: 90, 150;
  stroke-dashoffset: 0;
  stroke-width: 2;
  stroke: var(--el-color-white);
  stroke-linecap: round;
}

@keyframes loading-rotate {
  100% {
    transform: rotate(360deg);
  }
}

@keyframes loading-dash {
  0% {
    stroke-dasharray: 1, 200;
    stroke-dashoffset: 0;
  }
  50% {
    stroke-dasharray: 90, 150;
    stroke-dashoffset: -40px;
  }
  100% {
    stroke-dasharray: 90, 150;
    stroke-dashoffset: -120px;
  }
}
</style>

----- End of views/VerifyView.vue -----

----- Start of views/HomeView.vue -----
<template>
  <div class="home">
    <el-row justify="center" align="middle" class="slogan">
      <el-col :span="24">
        <h1>å»ä¸­å¿ƒåŒ–</h1>
        <h2>åŸºäºåŒºå—é“¾çš„èº«ä»½ç®¡ç†ç³»ç»Ÿ</h2>
        <p>å®‰å…¨ã€é€æ˜ã€é«˜æ•ˆ,ä¸ºæ‚¨çš„è¯ä¹¦æä¾›å¯é çš„å­˜å‚¨å’ŒéªŒè¯æ–¹æ¡ˆã€‚</p>
        <div class="buttons">
          <el-button
            type="primary"
            size="large"
            round
            @click="$router.push('/login')"
            >ç™»å½•</el-button
          >
          <el-button size="large" round @click="$router.push('/register')"
            >æ³¨å†Œ</el-button
          >
        </div>
      </el-col>
    </el-row>
    <el-row justify="space-around" class="features">
      <el-col :span="7">
        <el-card shadow="hover">
          <template #header>
            <div class="card-header">
              <span>å®‰å…¨å¯é </span>
              <el-icon class="icon" color="#ff6b6b" :size="30"
                ><Lock
              /></el-icon>
            </div>
          </template>
          <div class="card-content">
            åŸºäºåŒºå—é“¾æŠ€æœ¯,è¯ä¹¦ä¿¡æ¯å­˜å‚¨åœ¨åˆ†å¸ƒå¼ç½‘ç»œä¸­,æ— æ³•ç¯¡æ”¹,ç¡®ä¿è¯ä¹¦çš„çœŸå®æ€§å’Œå¯é æ€§ã€‚
          </div>
        </el-card>
      </el-col>
      <el-col :span="7">
        <el-card shadow="hover">
          <template #header>
            <div class="card-header">
              <span>é€æ˜é«˜æ•ˆ</span>
              <el-icon class="icon" color="#5ccfe6" :size="30"
                ><Sunny
              /></el-icon>
            </div>
          </template>
          <div class="card-content">
            è¯ä¹¦çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸéƒ½è®°å½•åœ¨åŒºå—é“¾ä¸Š,å¯ä»¥éšæ—¶æŸ¥è¯¢å’ŒéªŒè¯,æé«˜è¯ä¹¦ç®¡ç†çš„é€æ˜åº¦å’Œæ•ˆç‡ã€‚
          </div>
        </el-card>
      </el-col>
      <el-col :span="7">
        <el-card shadow="hover">
          <template #header>
            <div class="card-header">
              <span>æ˜“ç”¨çµæ´»</span>
              <el-icon class="icon" color="#ff9a3c" :size="30"
                ><UserFilled
              /></el-icon>
            </div>
          </template>
          <div class="card-content">
            æä¾›ç›´è§‚çš„ Web
            ç•Œé¢,ç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°ç®¡ç†è‡ªå·±çš„è¯ä¹¦,éªŒè¯è€…ä¹Ÿèƒ½å¿«é€ŸéªŒè¯è¯ä¹¦çš„æœ‰æ•ˆæ€§ã€‚
          </div>
        </el-card>
      </el-col>
    </el-row>
  </div>
</template>

<script setup lang="ts">
import { Lock, Sunny, UserFilled } from "@element-plus/icons-vue";
</script>

<style scoped>
.home {
  text-align: center;
  padding: 2rem;
}

.slogan {
  height: 50vh;
  background: linear-gradient(45deg, #ff6b6b, #5ccfe6);
  color: white;
}

.slogan h1 {
  font-size: 4rem;
  margin-bottom: 1rem;
}

.slogan h2 {
  font-size: 2.5rem;
  margin-bottom: 2rem;
}

.slogan p {
  font-size: 1.5rem;
  margin-bottom: 3rem;
}

.buttons .el-button {
  margin: 0 1rem;
}

.features {
  margin-top: 3rem;
}

.features .el-card {
  height: 200px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.card-header span {
  font-size: 1.5rem;
  font-weight: bold;
}

.card-content {
  text-align: left;
}
</style>

----- End of views/HomeView.vue -----

----- Start of views/BlockInfoView.vue -----
<template>
  <div class="block-info-view">
    <div class="network-graph" ref="networkGraph"></div>
    <div class="global-info">
      <div class="info-item">
        <span class="label">Total Nodes:</span>
        <span class="value">{{ totalNodes }}</span>
      </div>
      <div class="info-item">
        <span class="label">Total Edges:</span>
        <span class="value">{{ totalEdges }}</span>
      </div>
    </div>
    <div class="node-info" v-if="selectedNode" ref="nodeInfo">
      <h3>{{ selectedNode.id }}</h3>
      <p>Type: {{ selectedNode.type }}</p>
      <p>DID: {{ selectedNode.did }}</p>
      <p>Transactions: {{ selectedNode.transactions }}</p>
      <p>Balance: {{ selectedNode.balance }}</p>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from "vue";
import * as d3 from "d3";

const networkGraph = ref<HTMLElement | null>(null);
const nodeInfo = ref<HTMLElement | null>(null);
const totalNodes = ref(0);
const totalEdges = ref(0);
const selectedNode = ref(null);

onMounted(() => {
  // æ¨¡æ‹ŸåŒºå—é“¾ç½‘ç»œæ•°æ®
  const data = {
    nodes: [
      {
        id: "node1",
        type: "miner",
        did: "did:example:123",
        transactions: 100,
        balance: 1000,
      },
      {
        id: "node2",
        type: "wallet",
        did: "did:example:456",
        transactions: 50,
        balance: 500,
      },
      {
        id: "node3",
        type: "contract",
        did: "did:example:789",
        transactions: 200,
        balance: 2000,
      },
      {
        id: "node4",
        type: "miner",
        did: "did:example:abc",
        transactions: 80,
        balance: 800,
      },
      {
        id: "node5",
        type: "wallet",
        did: "did:example:def",
        transactions: 30,
        balance: 300,
      },
      {
        id: "node6",
        type: "contract",
        did: "did:example:ghi",
        transactions: 150,
        balance: 1500,
      },
      {
        id: "node7",
        type: "miner",
        did: "did:example:jkl",
        transactions: 120,
        balance: 1200,
      },
    ],
    edges: [
      { source: "node1", target: "node2", type: "transfer", amount: 100 },
      { source: "node1", target: "node3", type: "call", gasUsed: 0.01 },
      { source: "node2", target: "node3", type: "call", gasUsed: 0.02 },
      { source: "node4", target: "node5", type: "transfer", amount: 200 },
      { source: "node4", target: "node6", type: "call", gasUsed: 0.015 },
      { source: "node5", target: "node6", type: "call", gasUsed: 0.025 },
      { source: "node7", target: "node1", type: "transfer", amount: 300 },
      { source: "node7", target: "node4", type: "transfer", amount: 150 },
    ],
  };

  // æ›´æ–°å…¨å±€ç»Ÿè®¡ä¿¡æ¯
  totalNodes.value = data.nodes.length;
  totalEdges.value = data.edges.length;

  // åˆ›å»ºåŠ›å¯¼å‘å›¾
  const forceGraph = d3
    .forceSimulation(data.nodes)
    .force(
      "link",
      d3
        .forceLink(data.edges)
        .id((d: any) => d.id)
        .distance((d: any) => {
          return 100; // æ ¹æ®éœ€è¦è°ƒæ•´èŠ‚ç‚¹ä¹‹é—´çš„è·ç¦»
        })
    )
    .force("charge", d3.forceManyBody().strength(-800)) // è°ƒæ•´èŠ‚ç‚¹ä¹‹é—´çš„æ–¥åŠ›
    .force("center", d3.forceCenter(400, 300));

  // åˆ›å»º SVG ç”»å¸ƒ
  const svg = d3
    .select(networkGraph.value)
    .append("svg")
    .attr("width", 800)
    .attr("height", 600);

  // å®šä¹‰ç®­å¤´æ ‡è®°
  svg
    .append("defs")
    .append("marker")
    .attr("id", "arrow")
    .attr("viewBox", "0 -5 10 10")
    .attr("refX", 20)
    .attr("refY", 0)
    .attr("markerWidth", 6)
    .attr("markerHeight", 6)
    .attr("orient", "auto")
    .append("path")
    .attr("d", "M0,-5L10,0L0,5")
    .attr("fill", (d: any) => {
      if (d && d.type) {
        switch (d.type) {
          case "transfer":
            return "#8E5EA2";
          case "call":
            return "#3CBA9F";
          default:
            return "#F5A623";
        }
      }
      return "#F5A623"; // Default color if d or d.type is undefined
    });

  // ç»˜åˆ¶è¾¹
  const edges = svg
    .append("g")
    .selectAll("line")
    .data(data.edges)
    .join("line")
    .attr("stroke", (d) => {
      switch (d.type) {
        case "transfer":
          return "#8E5EA2";
        case "call":
          return "#3CBA9F";
        default:
          return "#F5A623";
      }
    })
    .attr("stroke-width", (d) => {
      switch (d.type) {
        case "transfer":
          return 2;
        case "call":
          return 1;
        default:
          return 1.5;
      }
    })
    .attr("marker-end", "url(#arrow)");

  // ç»˜åˆ¶èŠ‚ç‚¹
  const nodes = svg
    .append("g")
    .selectAll("circle")
    .data(data.nodes)
    .join("circle")
    .attr("r", (d) => {
      switch (d.type) {
        case "miner":
          return 25;
        case "wallet":
          return 20;
        case "contract":
          return 30;
        default:
          return 22;
      }
    })
    .attr("fill", (d) => {
      switch (d.type) {
        case "miner":
          return "#4C4C4C";
        case "wallet":
          return "#69b3a2";
        case "contract":
          return "#F8B195";
        default:
          return "#4d4d4d";
      }
    })
    .attr("stroke", "white")
    .attr("stroke-width", 2)
    .call(drag(forceGraph));

  // èŠ‚ç‚¹æ–‡å­—
  const nodeLabels = svg
    .append("g")
    .selectAll("text")
    .data(data.nodes)
    .join("text")
    .attr("dx", 0)
    .attr("dy", 40)
    .text((d) => d.id)
    .attr("fill", "black")
    .attr("font-family", "Arial")
    .attr("font-size", 12)
    .attr("text-anchor", "middle");

  // èŠ‚ç‚¹æ‚¬åœäº‹ä»¶
  nodes
    .on("mouseover", (event, d) => {
      d3.select(event.target).attr("r", (d) => {
        switch (d.type) {
          case "miner":
            return 30;
          case "wallet":
            return 25;
          case "contract":
            return 35;
          default:
            return 27;
        }
      });
      selectedNode.value = d;
      updateNodeInfoPosition();
    })
    .on("mouseout", (event, d) => {
      d3.select(event.target).attr("r", (d) => {
        switch (d.type) {
          case "miner":
            return 25;
          case "wallet":
            return 20;
          case "contract":
            return 30;
          default:
            return 22;
        }
      });
      selectedNode.value = null;
    });

  // è¾¹æ‚¬åœäº‹ä»¶
  edges
    .on("mouseover", (event, d) => {
      d3.select(event.target).attr("stroke-width", 3);
      nodes.attr("opacity", (n) =>
        n === d.source || n === d.target ? 1 : 0.2
      );
      nodeLabels.attr("opacity", (n) =>
        n === d.source || n === d.target ? 1 : 0.2
      );
      edges.attr("opacity", (e) => (e === d ? 1 : 0.2));
    })
    .on("mouseout", (event, d) => {
      d3.select(event.target).attr("stroke-width", (d) => {
        switch (d.type) {
          case "transfer":
            return 2;
          case "call":
            return 1;
          default:
            return 1.5;
        }
      });
      nodes.attr("opacity", 1);
      nodeLabels.attr("opacity", 1);
      edges.attr("opacity", 1);
    });

  // å¯åŠ¨åŠ›å¯¼å‘å›¾
  forceGraph.on("tick", () => {
    edges
      .attr("x1", (d) => (d.source as any).x)
      .attr("y1", (d) => (d.source as any).y)
      .attr("x2", (d) => (d.target as any).x)
      .attr("y2", (d) => (d.target as any).y);
    nodes.attr("cx", (d) => (d as any).x).attr("cy", (d) => (d as any).y);
    nodeLabels.attr("x", (d) => (d as any).x).attr("y", (d) => (d as any).y);
  });
});

// æ›´æ–°èŠ‚ç‚¹ä¿¡æ¯æ¡†çš„ä½ç½®
function updateNodeInfoPosition() {
  const infoBox = nodeInfo.value;
  if (!infoBox) return;

  const svg = networkGraph.value;
  if (!svg) return;

  const rect = svg.getBoundingClientRect();
  infoBox.style.left = `${rect.right + 10}px`;
  infoBox.style.top = `${rect.top + 10}px`;
}

// æ‹–æ‹½äº¤äº’
function drag(simulation: d3.Simulation<any, undefined>) {
  function dragstarted(event: any) {
    if (!event.active) simulation.alphaTarget(0.3).restart();
    event.subject.fx = event.subject.x;
    event.subject.fy = event.subject.y;
  }
  function dragged(event: any) {
    event.subject.fx = event.x;
    event.subject.fy = event.y;
  }
  function dragended(event: any) {
    if (!event.active) simulation.alphaTarget(0);
    event.subject.fx = null;
    event.subject.fy = null;
  }
  return d3
    .drag()
    .on("start", dragstarted)
    .on("drag", dragged)
    .on("end", dragended);
}
</script>

<style scoped>
.block-info-view {
  height: 100%;
  display: flex;
  flex-direction: column;
  position: relative;
  background: linear-gradient(45deg, #f7f7f7, #e0e0e0);
}

.network-graph {
  flex: 1;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
}

.global-info {
  padding: 20px;
  background: rgba(255, 255, 255, 0.8);
  display: flex;
  justify-content: center;
  box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1);
}

.info-item {
  margin-right: 20px;
  padding: 10px 20px;
  background: white;
  border-radius: 4px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.label {
  font-weight: bold;
  color: #333;
}

.value {
  font-size: 24px;
  color: #69b3a2;
}

.node-info {
  position: absolute;
  padding: 10px;
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid #ccc;
  border-radius: 4px;
  pointer-events: none;
  opacity: 0.9;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  max-width: 200px;
}
.node-info h3 {
  margin: 0 0 5px;
  font-size: 16px;
  color: #333;
}
.node-info p {
  margin: 0;
  font-size: 14px;
  color: #666;
}
</style>

----- End of views/BlockInfoView.vue -----

----- Start of store/user.js -----
import axios from "axios";
export default {
    namespaced: true,
    state: () => ({
        loginUser: {
            userName: "æœªç™»å½•",
            userRole: "notLogin", // æ·»åŠ ç”¨æˆ·è§’è‰²ä¿¡æ¯
        },
    }),
    actions: {
        async getLoginUser({ commit, state }) {
            if (state.loginUser.userName === "æœªç™»å½•") {
                try {
                    const response = await axios.post("http://localhost:8000/get_username", {});
                    const { isValid, username } = response.data;
                    if (isValid) {
                        commit("updateUser", { userName: username, userRole: "user" }); // å‡è®¾é»˜è®¤è§’è‰²ä¸ºuser
                    }
                    else {
                        console.error("User is not logged in.");
                        commit("updateUser", { userName: "æœªç™»å½•", userRole: "notLogin" });
                    }
                }
                catch (error) {
                    console.error("Error fetching username:", error);
                }
            }
        },
    },
    mutations: {
        updateUser(state, payload) {
            state.loginUser = payload;
        },
    },
};
//# sourceMappingURL=user.js.map
----- End of store/user.js -----

----- Start of store/index.js -----
import { createStore } from "vuex";
import user from "./user";
export default createStore({
    mutations: {},
    actions: {},
    modules: {
        user,
    },
});
//# sourceMappingURL=index.js.map
----- End of store/index.js -----

----- Start of store/index.ts -----
import { createStore } from "vuex";
import user from "./user";
export default createStore({
  mutations: {},
  actions: {},
  modules: {
    user,
  },
});

----- End of store/index.ts -----

----- Start of store/user.ts -----
import { StoreOptions } from "vuex";
import axios from "axios";

export default {
  namespaced: true,
  state: () => ({
    loginUser: {
      userName: "æœªç™»å½•",
      userRole: "notLogin", // æ·»åŠ ç”¨æˆ·è§’è‰²ä¿¡æ¯
    },
  }),
  actions: {
    async getLoginUser({ commit }, loginUser) {
      if (loginUser) {
        commit("updateUser", loginUser);
      } else {
        // æ¨¡æ‹Ÿä»åç«¯è·å–ç™»å½•ç”¨æˆ·ä¿¡æ¯
        const mockUser = {
          userName: "å¼ ä¸‰",
          userRole: "user",
        };
        commit("updateUser", mockUser);

        // çœŸå®é€»è¾‘,ä¸åç«¯äº¤äº’
        // try {
        //   const response = await axios.post(
        //     "http://localhost:8000/get_username",
        //     {}
        //   );
        //   const { isValid, username } = response.data;
        //   if (isValid) {
        //     commit("updateUser", { userName: username, userRole: "user" });
        //   } else {
        //     console.error("User is not logged in.");
        //     commit("updateUser", { userName: "æœªç™»å½•", userRole: "notLogin" });
        //   }
        // } catch (error) {
        //   console.error("Error fetching username:", error);
        // }
      }
    },
  },

  mutations: {
    updateUser(state, payload) {
      state.loginUser = payload;
    },
  },
} as StoreOptions<any>;

----- End of store/user.ts -----

----- Start of router/routes.ts -----
import { RouteRecordRaw } from "vue-router";
import HomeView from "@/views/HomeView.vue";
import VerifyView from "@/views/VerifyView.vue";
import BlockInfoView from "@/views/BlockInfoView.vue";
import LoginView from "@/views/LoginView.vue"; // å¼•å…¥ç™»å½•é¡µé¢ç»„ä»¶
import RegisterView from "@/views/RegisterView.vue";
import ACCESS_ENUM from "@/access/accessEnum"; // å¼•å…¥ ACCESS_ENUM
import SimpleLayout from "@/layouts/SimpleLayout.vue";
import HolderView from "@/views/HolderView.vue";

export const routes: Array<RouteRecordRaw> = [
  {
    path: "/",
    redirect: "/home",
  },
  {
    path: "/home",
    name: "é¦–é¡µ",
    component: HomeView,
  },
  {
    path: "/certification",
    name: "æŒæœ‰è€…è¯ä¹¦ç®¡ç†",
    component: HolderView,
    meta: {
      access: ACCESS_ENUM.USER, // æ·»åŠ æƒé™æ§åˆ¶
    },
  },
  {
    path: "/verification",
    name: "éªŒè¯è€…éªŒè¯è¯ä¹¦",
    component: VerifyView,
  },
  // {
  //   path: "/blockInfo",
  //   name: "å½“å‰åŒºå—é“¾ä¿¡æ¯",
  //   component: BlockInfoView,
  // },
  {
    path: "/login",
    name: "ç™»å½•",
    component: LoginView,
    meta: {
      layout: SimpleLayout, // æŒ‡å®šç™»å½•é¡µé¢çš„å¸ƒå±€ç»„ä»¶
    },
  },
  {
    path: "/register",
    name: "æ³¨å†Œ",
    component: RegisterView,
    meta: {
      layout: SimpleLayout, // æŒ‡å®šæ³¨å†Œé¡µé¢çš„å¸ƒå±€ç»„ä»¶
    },
  },
];

----- End of router/routes.ts -----

----- Start of router/index.js -----
import { createRouter, createWebHistory } from "vue-router";
import { routes } from "@/router/routes";
const router = createRouter({
    history: createWebHistory(process.env.BASE_URL),
    routes,
});
export default router;
//# sourceMappingURL=index.js.map
----- End of router/index.js -----

----- Start of router/routes.js -----
import HomeView from "@/views/HomeView.vue";
import ManageView from "@/views/ManageView.vue";
import VerifyView from "@/views/VerifyView.vue";
import BlockInfoView from "@/views/BlockInfoView.vue";
export const routes = [
    {
        path: "/",
        redirect: "/home",
    },
    {
        path: "/home",
        name: "é¦–é¡µ",
        component: HomeView,
    },
    {
        path: "/certification",
        name: "æŒæœ‰è€…è¯ä¹¦ç®¡ç†",
        component: ManageView,
        meta: {
            access: ACCESS_ENUM.USER, // æ·»åŠ æƒé™æ§åˆ¶
        },
    },
    {
        path: "/verification",
        name: "éªŒè¯è€…éªŒè¯è¯ä¹¦",
        component: VerifyView,
    },
    {
        path: "/blockInfo",
        name: "å½“å‰åŒºå—é“¾ä¿¡æ¯",
        component: BlockInfoView,
    },
];
//# sourceMappingURL=routes.js.map
----- End of router/routes.js -----

----- Start of router/index.ts -----
import { createRouter, createWebHistory, RouteRecordRaw } from "vue-router";
import { routes } from "@/router/routes";

const router = createRouter({
  history: createWebHistory(process.env.BASE_URL),
  routes,
});

export default router;

----- End of router/index.ts -----

